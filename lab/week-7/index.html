<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Feb 28 JS In-Class</title>
    <style>
      /* we can write style in anticipation of dynamically generated content with classes and IDs
      Look at the JavaScript below to find where the class="image" is applied */
      .image {
        width: 200px;
        margin: 10px;
      }
      /* style below just making it display a little better. not part of our in-class work */
      #container {
        display: flex;
        flex-wrap: wrap;
      }

      h5,
      p {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <h1>In Class Example Mar 6</h1>
    <button onClick="randomizeImages()">Randomize!</button>
    <select onchange="filterImages()">
      <option value="2020">All</option>
      <option value="2000">Before 2000</option>
      <option value="1900">Before 1900</option>
      <option value="1800">Before 1800</option>
    </select>

    <div id="container">
      <!-- generate content here from JavaScript array -->
    </div>

    <script>
      var container = document.querySelector('#container');

      var originalItems = [
        { imageURL: 'image-1.jpg', year: 2019, title: 'something from 2019' },
        { imageURL: 'image-2.jpg', year: 2001, title: 'a sculpture' },
        { imageURL: 'image-3.jpg', year: 1943, title: 'an album' },
        { imageURL: 'image-4.jpg', year: 1902, title: 'a painting' },
        { imageURL: 'image-5.jpg', year: 1834, title: 'another thing' },
        { imageURL: 'image-6.jpg', year: 1750, title: 'something else' }
      ];
      var updatedItems = originalItems;

      function generateContent() {
        container.innerHTML = null;
        updatedItems.forEach(item => {
          container.innerHTML += `
          <div>
            <img src="images/${item.imageURL}" class="image"/>
            <h5>${item.title}</h5>
            <p>${item.year}</p>
          </div>
          `;
        });
      }
      generateContent();

      // array shuffle from CSS tricks: https://css-tricks.com/snippets/javascript/shuffle-array/
      function randomizeImages() {
        updatedItems.sort(() => 0.5 - Math.random());
        generateContent();
      }

      function filterImages() {
        container.innerHTML = null;
        const value = parseInt(event.target.value);
        updatedItems = originalItems.filter(item => item.year < value);
        generateContent();
      }
    </script>
  </body>
</html>
